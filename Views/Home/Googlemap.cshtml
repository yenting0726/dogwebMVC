@{
    ViewData["Title"] = "公園地圖";
}
<link rel="stylesheet" href="~/css/googlemap.css" />
<h1>@ViewData["Title"]</h1>

<p>北部</p>

<iframe
    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d57891.37326776221!2d121.18030441475806!3d24.924886740877223!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3468239268a89f75%3A0xc3bfdadb3c4117b6!2z5qGD5ZyS5a-154mp5YWs5ZyS!5e0!3m2!1szh-TW!2stw!4v1750666114736!5m2!1szh-TW!2stw"
    width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy"
    referrerpolicy="no-referrer-when-downgrade"></iframe>
    
   
<title>互動寵物公園地圖</title>


<div class="googlemap-container">
    <div id="map"></div>
    <div id="info">
        <h2>請選擇區域</h2>
        <ul id="parkList"></ul>
    </div>
</div>
<!-- 地圖 SVG -->
<svg id="taipeiMap" style="position: absolute; width: 300px; top: 20px; left: 20px;">

    <!-- 在這裡放你的 SVG 路徑（每個 path 加上 data-district 屬性） -->
    <path d="data-district=" 中正區"></path>
    <path d=" data-district=" 大安區"></path>
    <!-- 其他區域... -->
</svg>


 <div id="app">
  {{ message }}
</div>
        
       

<!-- Google Maps 載入 -->
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDmuKWcbMiFSeqDa0dufGQ-ii7cLQGdzcY"></script>
<script>
    const parksData = {
        "中正區": [
            { name: "寵物公園A", lat: 25.0321, lng: 121.5186 },
            { name: "寵物公園B", lat: 25.0330, lng: 121.5195 }
        ],
        "大安區": [
            { name: "寵物公園C", lat: 25.0268, lng: 121.5430 }
        ]
    };

    let map;
    function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
            center: { lat: 25.033, lng: 121.5654 },
            zoom: 13
        });
    }

    document.querySelectorAll('#taipeiMap path').forEach(path => {
        path.addEventListener('mouseenter', () => {
            const district = path.dataset.district;
            const parks = parksData[district] || [];

            document.getElementById('parkList').innerHTML = parks.map(p => `<li>${p.name}</li>`).join('');
            map.setCenter(parks[0] || { lat: 25.033, lng: 121.5654 });

            // 清除原標記
            if (window.markers) window.markers.forEach(m => m.setMap(null));

            // 顯示新標記
            window.markers = parks.map(p => new google.maps.Marker({
                position: { lat: p.lat, lng: p.lng },
                map: map,
                title: p.name
            }));
        });
    });

    window.onload = initMap;
</script>
